[tox]
isolated_build = True
envlist =
    unit
    it
platform =
    linux|darwin

[testenv]

whitelist_externals =
    pytest

passenv =
    HOME
    JAVA8_HOME
    JAVA9_HOME
    JAVA10_HOME
    JAVA11_HOME
    JAVA12_HOME
    JAVA13_HOME
    JAVA14_HOME
    JAVA15_HOME
    JAVA16_HOME
    JAVA17_HOME
    RALLY_HOME

[testenv:unit]
deps =
    geneve==0.0.3

commands = pytest --junitxml=junit-{envname}.xml

[testenv:it-autogenerated]
commands = pytest -s it --junitxml=junit-{envname}.xml -m autogenerated

[testenv:it]
commands = pytest -s it --junitxml=junit-{envname}.xml --skip-autogenerated
